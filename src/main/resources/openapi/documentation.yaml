openapi: 3.0.0
info:
  title: VLR Scraper API
  description: API for retrieving Valorant competitive data from VLR.gg
  version: 1.0.0
servers:
  - url: http://localhost:8080
    description: Local server

paths:
  /matches/upcoming:
    get:
      summary: Get upcoming matches
      responses:
        '200':
          description: List of upcoming matches
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Match'
  /matches/completed:
    get:
      summary: Get completed matches
      parameters:
        - name: page
          in: query
          schema:
            type: integer
          description: Page number
      responses:
        '200':
          description: List of completed matches
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Match'
  /matches/details:
    get:
      summary: Get match details
      parameters:
        - name: url
          in: query
          required: true
          schema:
            type: string
          description: The VLR.gg URL of the match
      responses:
        '200':
          description: Detailed match information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MatchDetail'
  /live:
    get:
      summary: Get live matches
      responses:
        '200':
          description: List of live matches
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/LiveMatch'
  /matches/region/{region}:
    get:
      summary: Get matches by region
      parameters:
        - name: region
          in: path
          required: true
          schema:
            type: string
          description: Region code (e.g., 'na', 'eu')
        - name: page
          in: query
          schema:
            type: integer
          description: Page number
      responses:
        '200':
          description: List of matches in the region
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Match'
  /matches/event/{eventId}:
    get:
      summary: Get matches by event
      parameters:
        - name: eventId
          in: path
          required: true
          schema:
            type: string
          description: Event ID
        - name: page
          in: query
          schema:
            type: integer
          description: Page number
      responses:
        '200':
          description: List of matches in the event
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Match'
  /team/{id}:
    get:
      summary: Get team details
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: Team ID
      responses:
        '200':
          description: Detailed team information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
  /player/{id}:
    get:
      summary: Get player details
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: Player ID
      responses:
        '200':
          description: Detailed player information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Player'
  /news:
    get:
      summary: Get latest news
      parameters:
        - name: page
          in: query
          schema:
            type: integer
          description: Page number
      responses:
        '200':
          description: List of news items
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/NewsItem'
  /news/details:
    get:
      summary: Get news details
      parameters:
        - name: url
          in: query
          required: true
          schema:
            type: string
          description: The VLR.gg URL of the news article
      responses:
        '200':
          description: Detailed news information and comments
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewsDetail'
  /transfers:
    get:
      summary: Get recent transfers
      parameters:
        - name: page
          in: query
          schema:
            type: integer
          description: Page number
      responses:
        '200':
          description: List of transfers
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transfer'
  /events:
    get:
      summary: Get events
      responses:
        '200':
          description: List of events
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Event'
  /event/{id}:
    get:
      summary: Get event details
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: Event ID
      responses:
        '200':
          description: Detailed event information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventDetail'
  /rankings:
    get:
      summary: Get global team rankings
      responses:
        '200':
          description: List of team rankings
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RegionRankings'
  /rankings/region/{region}:
    get:
      summary: Get team rankings by region
      parameters:
        - name: region
          in: path
          required: true
          schema:
            type: string
          description: Region code (e.g., 'na', 'eu')
      responses:
        '200':
          description: List of team rankings in the region
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TeamRanking'
  /stats:
    get:
      summary: Get player statistics
      responses:
        '200':
          description: List of player statistics
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PlayerStat'
  /streams:
    get:
      summary: Get match streams
      parameters:
        - name: url
          in: query
          required: true
          schema:
            type: string
          description: Match URL
      responses:
        '200':
          description: List of streams for the match
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StreamLink'
  /search/teams:
    get:
      summary: Search teams
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
          description: Search query
      responses:
        '200':
          description: List of matching teams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TeamSearchResult'
  /search/players:
    get:
      summary: Search players
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
          description: Search query
      responses:
        '200':
          description: List of matching players
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PlayerSearchResult'

components:
  schemas:
    Match:
      type: object
      properties:
        team1:
          type: string
        team2:
          type: string
        time:
          type: string
        event:
          type: string
        score1:
          type: string
          nullable: true
        score2:
          type: string
          nullable: true
        url:
          type: string
        team1CountryFlag:
          type: string
          nullable: true
        team2CountryFlag:
          type: string
          nullable: true
        eventIcon:
          type: string
          nullable: true
    MatchDetail:
      type: object
      properties:
        team1:
          type: string
        team2:
          type: string
        score1:
          type: string
        score2:
          type: string
        time:
          type: string
        event:
          type: string
        maps:
          type: array
          items:
            $ref: '#/components/schemas/MapResult'
        mapStats:
          $ref: '#/components/schemas/MapStats'
    MapResult:
      type: object
      properties:
        mapName:
          type: string
        team1Score:
          $ref: '#/components/schemas/TeamScore'
        team2Score:
          $ref: '#/components/schemas/TeamScore'
        winner:
          type: string
          nullable: true
        pickedBy:
          type: string
          nullable: true
        duration:
          type: string
          nullable: true
    PlayerStats:
      type: object
      properties:
        name:
          type: string
        team:
          type: string
        agent:
          type: string
        rating:
          type: string
        acs:
          type: string
        kills:
          type: string
        deaths:
          type: string
        assists:
          type: string
    LiveMatch:
      type: object
      properties:
        team1:
          type: string
        team2:
          type: string
        score1:
          type: string
        score2:
          type: string
        event:
          type: string
        status:
          type: string
        team1CountryFlag:
          type: string
          nullable: true
        team2CountryFlag:
          type: string
          nullable: true
        eventIcon:
          type: string
          nullable: true
        url:
          type: string
    Team:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        tag:
          type: string
          nullable: true
        logoUrl:
          type: string
          nullable: true
        region:
          type: string
          nullable: true
        socialLinks:
          type: object
          additionalProperties:
            type: string
        totalWinnings:
          type: string
          nullable: true
        roster:
          type: array
          items:
            $ref: '#/components/schemas/TeamPlayer'
        recentMatches:
          type: array
          items:
            $ref: '#/components/schemas/TeamMatch'
        upcomingMatches:
          type: array
          items:
            $ref: '#/components/schemas/TeamMatch'
        eventPlacements:
          type: array
          items:
            $ref: '#/components/schemas/EventPlacement'
        ratingHistory:
          type: array
          items:
            $ref: '#/components/schemas/RatingHistoryEntry'
        formRating:
          type: array
          items:
            $ref: '#/components/schemas/FormRating'
        rankingHistory:
          type: array
          items:
            $ref: '#/components/schemas/RankingHistoryEntry'
        url:
          type: string
    TeamPlayer:
      type: object
      properties:
        alias:
          type: string
        realName:
          type: string
          nullable: true
        url:
          type: string
        imageUrl:
          type: string
          nullable: true
        roles:
          type: array
          items:
            type: string
    TeamMatch:
      type: object
      properties:
        eventName:
          type: string
        eventStage:
          type: string
          nullable: true
        opponent:
          type: string
        score:
          type: string
          nullable: true
        date:
          type: string
        url:
          type: string
        isUpcoming:
          type: boolean
    EventPlacement:
      type: object
      properties:
        eventName:
          type: string
        year:
          type: string
        results:
          type: array
          items:
            $ref: '#/components/schemas/PlacementResult'
        url:
          type: string
    PlacementResult:
      type: object
      properties:
        stage:
          type: string
        rank:
          type: string
        prize:
          type: string
          nullable: true
    RatingHistoryEntry:
      type: object
      properties:
        rank:
          type: string
        region:
          type: string
        url:
          type: string
    FormRating:
      type: object
      properties:
        date:
          type: string
        opponent:
          type: string
        event:
          type: string
        result:
          type: string
        currentRating:
          type: integer
        opponentRating:
          type: integer
        coreId:
          type: string
    RankingHistoryEntry:
      type: object
      properties:
        date:
          type: string
        event:
          type: string
        rank:
          type: string
        coreId:
          type: string
    Player:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        realName:
          type: string
          nullable: true
        country:
          type: string
          nullable: true
        countryFlag:
          type: string
          nullable: true
        team:
          type: string
          nullable: true
        agents:
          type: array
          items:
            type: string
        pastTeams:
          type: array
          items:
            $ref: '#/components/schemas/PastTeam'
        url:
          type: string
    PastTeam:
      type: object
      properties:
        name:
          type: string
        period:
          type: string
          nullable: true
        url:
          type: string
    NewsItem:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
        author:
          type: string
        date:
          type: string
        url:
          type: string
    Transfer:
      type: object
      properties:
        player:
          type: string
        fromTeam:
          type: string
        toTeam:
          type: string
        date:
          type: string
        url:
          type: string
    Event:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        status:
          type: string
        dates:
          type: string
        region:
          type: string
        prizePool:
          type: string
        image:
          type: string
          nullable: true
        url:
          type: string
    EventDetail:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        dates:
          type: string
        prizePool:
          type: string
          nullable: true
        teams:
          type: array
          items:
            $ref: '#/components/schemas/EventTeam'
        brackets:
          type: array
          description: Bracket data grouped by paths like Upper/Lower/Middle
          items:
            $ref: '#/components/schemas/EventBracketGroup'
        location:
          type: string
          nullable: true
        format:
          type: string
          nullable: true
        logoUrl:
          type: string
          nullable: true
          description: URL to the event logo/image
        url:
          type: string
    EventTeam:
      type: object
      properties:
        name:
          type: string
        tag:
          type: string
          nullable: true
        standing:
          type: string
          nullable: true
        logoUrl:
          type: string
          nullable: true
          description: URL to the team logo
        url:
          type: string
    EventBracketGroup:
      type: object
      properties:
        name:
          type: string
        rounds:
          type: array
          items:
            $ref: '#/components/schemas/EventBracketRound'
    EventBracketRound:
      type: object
      properties:
        name:
          type: string
        matches:
          type: array
          items:
            $ref: '#/components/schemas/EventBracketMatch'
    EventBracketMatch:
      type: object
      properties:
        team1:
          $ref: '#/components/schemas/EventBracketTeam'
        team2:
          $ref: '#/components/schemas/EventBracketTeam'
        status:
          type: string
          nullable: true
        url:
          type: string
          nullable: true
    EventBracketTeam:
      type: object
      properties:
        name:
          type: string
        score:
          type: string
          nullable: true
        isWinner:
          type: boolean
        logoUrl:
          type: string
          nullable: true
    TeamRanking:
      type: object
      properties:
        rank:
          type: string
        teamName:
          type: string
        region:
          type: string
        points:
          type: string
        url:
          type: string
        logoUrl:
          type: string
          nullable: true
          description: URL to the team logo
    PlayerStat:
      type: object
      properties:
        player:
          type: string
        team:
          type: string
        agents:
          type: array
          items:
            type: string
        rating:
          type: string
        acs:
          type: string
        kd:
          type: string
    TeamSearchResult:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        tag:
          type: string
        region:
          type: string
        logo:
          type: string
          nullable: true
        url:
          type: string
    PlayerSearchResult:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        realName:
          type: string
          nullable: true
        team:
          type: string
          nullable: true
        country:
          type: string
          nullable: true
        url:
          type: string
    StreamLink:
      type: object
      properties:
        platform:
          type: string
        url:
          type: string
        language:
          type: string
          nullable: true
    NewsDetail:
      type: object
      description: Detailed information about a news article including content and comments
      properties:
        title:
          type: string
          description: The title of the article
        author:
          type: string
          description: The author of the article
        date:
          type: string
          description: The publication date and time
        content:
          type: string
          description: The full text content of the article
        url:
          type: string
          description: The VLR.gg URL of the article
        comments:
          type: array
          description: The comment thread associated with the article
          items:
            $ref: '#/components/schemas/ThreadComment'
      example:
        title: "ENVY benches Inspire"
        author: "jenopelle"
        date: "Feb 6, 2026 at 09:46 IST"
        content: "ENVY has announced that Hunter 'Inspire' Schline has been moved to the team's reserve roster..."
        url: "https://www.vlr.gg/617384/envy-benches-inspire"
        comments:
          - author: "TheFumbler"
            content: "L move #JusticeforInspire"
            url: "https://www.vlr.gg/post/6139663/envy-benches-inspire"
            children: []
    ThreadComment:
      type: object
      description: A comment in a news thread, properly nested
      properties:
        author:
          type: string
          description: The author of the comment
        content:
          type: string
          description: The text content of the comment
        url:
          type: string
          nullable: true
          description: The URL to the specific comment
        children:
          type: array
          description: Nested replies to this comment
          items:
            $ref: '#/components/schemas/ThreadComment'
    MapStats:
      type: object
      properties:
        allMaps:
          $ref: '#/components/schemas/MapStatsData'
        map1:
          $ref: '#/components/schemas/MapStatsData'
        map2:
          $ref: '#/components/schemas/MapStatsData'
        map3:
          $ref: '#/components/schemas/MapStatsData'
        map4:
          $ref: '#/components/schemas/MapStatsData'
        map5:
          $ref: '#/components/schemas/MapStatsData'
    MapStatsData:
      type: object
      properties:
        mapName:
          type: string
        playerStats:
          type: array
          items:
            $ref: '#/components/schemas/PlayerMatchStat'
        rounds:
          type: array
          items:
            $ref: '#/components/schemas/Round'
    PlayerMatchStat:
      type: object
      properties:
        playerName:
          type: string
        team:
          type: string
        agents:
          type: array
          items:
            type: string
        rating:
          $ref: '#/components/schemas/SideStat'
        acs:
          $ref: '#/components/schemas/SideStat'
        kills:
          $ref: '#/components/schemas/SideStat'
        deaths:
          $ref: '#/components/schemas/SideStat'
        assists:
          $ref: '#/components/schemas/SideStat'
        kdDiff:
          $ref: '#/components/schemas/SideStat'
        kast:
          $ref: '#/components/schemas/SideStat'
        adr:
          $ref: '#/components/schemas/SideStat'
        hs:
          $ref: '#/components/schemas/SideStat'
        fk:
          $ref: '#/components/schemas/SideStat'
        fd:
          $ref: '#/components/schemas/SideStat'
        fkDiff:
          $ref: '#/components/schemas/SideStat'
    SideStat:
      type: object
      properties:
        all:
          type: string
        attack:
          type: string
        defend:
          type: string
    Round:
      type: object
      properties:
        roundNum:
          type: string
        score:
          type: string
        winner:
          type: string
          description: '"team1" or "team2"'
        t:
          type: string
          description: '"team1" or "team2"'
        ct:
          type: string
          description: '"team1" or "team2"'
        winType:
          type: string
        winIconUrl:
          type: string
          nullable: true
          description: URL to the win type icon
    RegionRankings:
      type: object
      properties:
        region:
          type: string
        rankings:
          type: array
          items:
            $ref: '#/components/schemas/TeamRanking'
    TeamScore:
      type: object
      properties:
        total:
          type: string
        attack:
          type: string
          nullable: true
        defend:
          type: string
          nullable: true
